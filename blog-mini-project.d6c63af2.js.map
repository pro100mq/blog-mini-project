{"mappings":"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","sources":["<anon>","src/index.js","src/api/getPost.js","src/api/addPost.js","src/api/updatePost.js","src/api/deletePost.js","src/js/renderPosts.js"],"sourcesContent":["const $3dc61f2eb6b60963$var$API_BASE = 'http://localhost:3000';\nasync function $3dc61f2eb6b60963$export$3790dc04c854c4c9() {\n    try {\n        return await fetch(`${$3dc61f2eb6b60963$var$API_BASE}/blog`).then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\nasync function $3dc61f2eb6b60963$export$101f7e1827697acc(id) {\n    try {\n        return await fetch(`${$3dc61f2eb6b60963$var$API_BASE}/blog/${id}`).then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nconst $aedd3e0ec89cfcaa$var$API_BASE = 'http://localhost:3000';\nasync function $aedd3e0ec89cfcaa$export$27e5ecd6f2b8caed(postData) {\n    try {\n        return await fetch(`${$aedd3e0ec89cfcaa$var$API_BASE}/blog`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                ...postData\n            })\n        }).then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nconst $f42ce5572378816d$var$API_BASE = 'http://localhost:3000';\nasync function $f42ce5572378816d$export$431458ae9af46678(id, postData) {\n    try {\n        return await fetch(`${$f42ce5572378816d$var$API_BASE}/blog/${id}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                ...postData,\n                updatedAt: new Date().toISOString()\n            })\n        }).then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nconst $40636a31b89480b9$var$API_BASE = 'http://localhost:3000';\nasync function $40636a31b89480b9$export$6ca2c30598d1bf61(id) {\n    try {\n        return await fetch(`${$40636a31b89480b9$var$API_BASE}/blog/${id}`, {\n            method: 'DELETE'\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nfunction $678e618d9dc74087$export$c76d3397403fd9a(posts, container) {\n    container.innerHTML = posts.map((object)=>`\n    <div class=\"post\" data-id=\"${object.id}\">\n      <h2>${object.title}</h2>\n      <p>\\u{410}\\u{432}\\u{442}\\u{43E}\\u{440}: ${object.username}</p>\n      <img src=\"${object.imageUrl}\" alt=\"${object.title}\">\n      <p>${object.content}</p>\n      <button class=\"edit-btn\" data-id=\"${object.id}\">\\u{420}\\u{435}\\u{434}\\u{430}\\u{433}\\u{443}\\u{432}\\u{430}\\u{442}\\u{438}</button>\n      <button class=\"delete-btn\" data-id=\"${object.id}\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438}</button>\n    </div>\n  `).join('');\n}\n\n\nconst $35da740d59af89ba$var$postsContainer = document.getElementById('postsContainer');\nconst $35da740d59af89ba$var$openModalBtn = document.getElementById('openModalBtn');\nconst $35da740d59af89ba$var$modalBackdrop = document.getElementById('modalBackdrop');\nconst $35da740d59af89ba$var$modalTitle = document.getElementById('modalTitle');\nconst $35da740d59af89ba$var$postForm = document.getElementById('postForm');\nconst $35da740d59af89ba$var$cancelBtn = document.querySelector('.modal-cancel-btn');\nlet $35da740d59af89ba$var$currentPostId = null;\nlet $35da740d59af89ba$var$allPosts = [];\nasync function $35da740d59af89ba$var$startApp() {\n    try {\n        $35da740d59af89ba$var$allPosts = await (0, $3dc61f2eb6b60963$export$3790dc04c854c4c9)();\n        $35da740d59af89ba$var$setupEventListeners();\n    } catch (error) {\n        console.log(error);\n    }\n}\nfunction $35da740d59af89ba$var$setupEventListeners() {\n    $35da740d59af89ba$var$openModalBtn.addEventListener(\"click\", ()=>{\n        $35da740d59af89ba$var$currentPostId = null;\n        $35da740d59af89ba$var$modalTitle.textContent = \"\\u0421\\u0442\\u0432\\u043E\\u0440\\u0438\\u0442\\u0438 \\u043F\\u043E\\u0441\\u0442\";\n        $35da740d59af89ba$var$postForm.reset();\n        $35da740d59af89ba$var$modalBackdrop.style.display = \"flex\";\n    });\n    $35da740d59af89ba$var$cancelBtn.addEventListener('click', $35da740d59af89ba$var$closeModal);\n    $35da740d59af89ba$var$modalBackdrop.addEventListener('click', (e)=>{\n        if (e.target === $35da740d59af89ba$var$modalBackdrop) $35da740d59af89ba$var$closeModal();\n    });\n    $35da740d59af89ba$var$postForm.addEventListener('submit', $35da740d59af89ba$var$postSubmit);\n    $35da740d59af89ba$var$postsContainer.addEventListener(\"click\", async (e)=>{\n        const postId = e.target.closest('[data-id]')?.dataset.id;\n        if (!postId) return;\n        if (e.target.closest('.edit-btn')) await $35da740d59af89ba$var$editPost(postId);\n        else if (e.target.closest('.delete-btn')) await $35da740d59af89ba$var$handleDeletePost(postId);\n    });\n}\nasync function $35da740d59af89ba$var$postSubmit(e) {\n    e.preventDefault();\n    const formData = {\n        username: document.getElementById('usernameInput').value.trim(),\n        title: document.getElementById('postTitleInput').value.trim(),\n        content: document.getElementById('postContentInput').value.trim(),\n        imageUrl: document.getElementById('photoURLInput').value.trim()\n    };\n    try {\n        if ($35da740d59af89ba$var$currentPostId) await (0, $f42ce5572378816d$export$431458ae9af46678)($35da740d59af89ba$var$currentPostId, formData);\n        else await (0, $aedd3e0ec89cfcaa$export$27e5ecd6f2b8caed)(formData);\n        $35da740d59af89ba$var$allPosts = await (0, $3dc61f2eb6b60963$export$3790dc04c854c4c9)();\n        (0, $678e618d9dc74087$export$c76d3397403fd9a)($35da740d59af89ba$var$allPosts, $35da740d59af89ba$var$postsContainer);\n        $35da740d59af89ba$var$closeModal();\n    } catch (error) {\n        console.log(error);\n    }\n}\nasync function $35da740d59af89ba$var$editPost(postId) {\n    try {\n        const postToEdit = $35da740d59af89ba$var$allPosts.find((post)=>post.id == postId);\n        if (!postToEdit) return;\n        $35da740d59af89ba$var$currentPostId = postId;\n        $35da740d59af89ba$var$modalTitle.textContent = \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438 \\u043F\\u043E\\u0441\\u0442\";\n        document.getElementById('usernameInput').value = postToEdit.username;\n        document.getElementById('postTitleInput').value = postToEdit.title;\n        document.getElementById('postContentInput').value = postToEdit.content;\n        document.getElementById('photoURLInput').value = postToEdit.imageUrl;\n        $35da740d59af89ba$var$modalBackdrop.style.display = 'flex';\n    } catch (error) {\n        console.log(error);\n    }\n}\nasync function $35da740d59af89ba$var$handleDeletePost(postId) {\n    alert(\"\\u0412\\u0438 \\u0445\\u043E\\u0447\\u0435\\u0442\\u0435 \\u0432\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438 \\u0446\\u0435\\u0439 \\u043F\\u043E\\u0441\\u0442?\");\n    try {\n        await (0, $40636a31b89480b9$export$6ca2c30598d1bf61)(postId);\n        $35da740d59af89ba$var$allPosts = await (0, $3dc61f2eb6b60963$export$3790dc04c854c4c9)();\n        (0, $678e618d9dc74087$export$c76d3397403fd9a)($35da740d59af89ba$var$allPosts, $35da740d59af89ba$var$postsContainer);\n    } catch (error) {\n        console.log(error);\n    }\n}\nfunction $35da740d59af89ba$var$closeModal() {\n    $35da740d59af89ba$var$modalBackdrop.style.display = 'none';\n}\n$35da740d59af89ba$var$startApp();\n\n\n//# sourceMappingURL=blog-mini-project.d6c63af2.js.map\n","import { getPosts } from './api/getPost.js';\r\nimport { addPost } from './api/addPost.js';\r\nimport { updatePost } from './api/updatePost.js';\r\nimport { deletePost } from './api/deletePost.js';\r\nimport { renderPosts } from './js/renderPosts.js'\r\n\r\nconst postsContainer = document.getElementById('postsContainer');\r\nconst openModalBtn = document.getElementById('openModalBtn');\r\nconst modalBackdrop = document.getElementById('modalBackdrop');\r\nconst modalTitle = document.getElementById('modalTitle');\r\nconst postForm = document.getElementById('postForm');\r\nconst cancelBtn = document.querySelector('.modal-cancel-btn');\r\n\r\n\r\nlet currentPostId = null;\r\nlet allPosts = [];\r\n\r\nasync function startApp() {\r\n    try {\r\n        allPosts = await getPosts();\r\n        setupEventListeners();\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction setupEventListeners() {\r\n    openModalBtn.addEventListener(\"click\", () => {\r\n        currentPostId = null;\r\n        modalTitle.textContent = \"Створити пост\";\r\n        postForm.reset();\r\n        modalBackdrop.style.display = \"flex\";\r\n    });\r\n\r\n    cancelBtn.addEventListener('click', closeModal);\r\n    modalBackdrop.addEventListener('click', (e) => {\r\n        if (e.target === modalBackdrop) {\r\n            closeModal();\r\n        }\r\n    });\r\n\r\n    postForm.addEventListener('submit', postSubmit);\r\n\r\n    postsContainer.addEventListener(\"click\", async (e) => {\r\n        const postId = e.target.closest('[data-id]')?.dataset.id;\r\n        if (!postId) return;\r\n\r\n        if (e.target.closest('.edit-btn')) {\r\n            await editPost(postId);\r\n        } else if (e.target.closest('.delete-btn')) {\r\n            await handleDeletePost(postId);\r\n        }\r\n    });\r\n}\r\n\r\nasync function postSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    const formData = {\r\n        username: document.getElementById('usernameInput').value.trim(),\r\n        title: document.getElementById('postTitleInput').value.trim(),\r\n        content: document.getElementById('postContentInput').value.trim(),\r\n        imageUrl: document.getElementById('photoURLInput').value.trim()\r\n    };\r\n\r\n    try {\r\n        if (currentPostId) {\r\n            await updatePost(currentPostId, formData);\r\n        } else {\r\n            await addPost(formData);\r\n        }\r\n        \r\n        allPosts = await getPosts();\r\n        renderPosts(allPosts, postsContainer);\r\n        closeModal();\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nasync function editPost(postId) {\r\n    try {\r\n        const postToEdit = allPosts.find(post => post.id == postId);\r\n        if (!postToEdit) return;\r\n\r\n        currentPostId = postId;\r\n        modalTitle.textContent = 'Редагувати пост';\r\n        \r\n        document.getElementById('usernameInput').value = postToEdit.username;\r\n        document.getElementById('postTitleInput').value = postToEdit.title;\r\n        document.getElementById('postContentInput').value = postToEdit.content;\r\n        document.getElementById('photoURLInput').value = postToEdit.imageUrl;\r\n        \r\n        modalBackdrop.style.display = 'flex';\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nasync function handleDeletePost(postId) {\r\n    alert('Ви хочете видалити цей пост?');\r\n    try {\r\n        await deletePost(postId);\r\n        allPosts = await getPosts();\r\n        renderPosts(allPosts, postsContainer);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction closeModal() {\r\n    modalBackdrop.style.display = 'none';\r\n}\r\n\r\nstartApp();","const API_BASE = 'http://localhost:3000';\r\n\r\nexport async function getPosts() {\r\n  try {\r\n    return await fetch(`${API_BASE}/blog`)\r\n    .then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function getPostById(id) {\r\n  try {\r\n    return await fetch(`${API_BASE}/blog/${id}`)\r\n    .then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","const API_BASE = 'http://localhost:3000';\r\n\r\nexport async function addPost(postData) {\r\n  try {\r\n    return await fetch(`${API_BASE}/blog`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        ...postData\r\n      })\r\n    }).then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","const API_BASE = 'http://localhost:3000';\r\n\r\nexport async function updatePost(id, postData) {\r\n  try {\r\n    return await fetch(`${API_BASE}/blog/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        ...postData,\r\n        updatedAt: new Date().toISOString()\r\n      })\r\n    }).then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","const API_BASE = 'http://localhost:3000';\r\n\r\nexport async function deletePost(id) {\r\n  try {\r\n    return await fetch(`${API_BASE}/blog/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","export function renderPosts(posts, container) {\r\n  container.innerHTML = posts\r\n  .map(object => `\r\n    <div class=\"post\" data-id=\"${object.id}\">\r\n      <h2>${object.title}</h2>\r\n      <p>Автор: ${object.username}</p>\r\n      <img src=\"${object.imageUrl}\" alt=\"${object.title}\">\r\n      <p>${object.content}</p>\r\n      <button class=\"edit-btn\" data-id=\"${object.id}\">Редагувати</button>\r\n      <button class=\"delete-btn\" data-id=\"${object.id}\">Видалити</button>\r\n    </div>\r\n  `)\r\n  .join('');\r\n}"],"names":["$3dc61f2eb6b60963$export$3790dc04c854c4c9","fetch","then","res","json","error","console","log","$aedd3e0ec89cfcaa$export$27e5ecd6f2b8caed","postData","method","headers","body","JSON","stringify","$f42ce5572378816d$export$431458ae9af46678","id","updatedAt","Date","toISOString","$40636a31b89480b9$export$6ca2c30598d1bf61","$678e618d9dc74087$export$c76d3397403fd9a","posts","container","innerHTML","map","object","title","username","imageUrl","content","join","$35da740d59af89ba$var$postsContainer","document","getElementById","$35da740d59af89ba$var$openModalBtn","$35da740d59af89ba$var$modalBackdrop","$35da740d59af89ba$var$modalTitle","$35da740d59af89ba$var$postForm","$35da740d59af89ba$var$cancelBtn","querySelector","$35da740d59af89ba$var$currentPostId","$35da740d59af89ba$var$allPosts","$35da740d59af89ba$var$postSubmit","e","preventDefault","formData","value","trim","$35da740d59af89ba$var$closeModal","$35da740d59af89ba$var$editPost","postId","postToEdit","find","post","textContent","style","display","$35da740d59af89ba$var$handleDeletePost","alert","$35da740d59af89ba$var$startApp","addEventListener","reset","target","closest","dataset"],"version":3,"file":"blog-mini-project.d6c63af2.js.map"}